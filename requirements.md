# MangaCompass ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—è¦ä»¶æ›¸

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### ãƒ“ã‚¸ãƒã‚¹èƒŒæ™¯
æµ·å¤–ã®æ¼«ç”»å¸‚å ´ã¯æ€¥é€Ÿã«æˆé•·ã—ã¦ãŠã‚Šã€2025å¹´ã«ã¯180å„„ãƒ‰ãƒ«è¦æ¨¡ã«é”ã™ã‚‹è¦‹è¾¼ã¿ã§ã™ã€‚ã—ã‹ã—ã€ç¾åœ¨ã®æ¨è–¦ã‚µãƒ¼ãƒ“ã‚¹ã¯åŸºæœ¬çš„ãªã‚¸ãƒ£ãƒ³ãƒ«åˆ†é¡ã«ç•™ã¾ã‚Šã€å€‹äººã®èª­æ›¸å—œå¥½ã«åŸºã¥ã„ãŸé«˜ç²¾åº¦ãªãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ãŒä¸è¶³ã—ã¦ã„ã¾ã™ã€‚MangaCompassã¯ã€ã“ã®èª²é¡Œã‚’è§£æ±ºã™ã‚‹æµ·å¤–å‘ã‘æ—¥æœ¬æ¼«ç”»æ¨è–¦ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚

### ã‚·ã‚¹ãƒ†ãƒ ã®ç›®çš„
1. **å¸‚å ´æ¤œè¨¼**: æµ·å¤–èª­è€…ã®æ¼«ç”»æ¨è–¦ãƒ‹ãƒ¼ã‚ºã®å®Ÿè¨¼
2. **æŠ€è¡“å®Ÿè¨¼**: AIé§†å‹•å‹æ¨è–¦ã‚·ã‚¹ãƒ†ãƒ ã®æœ‰åŠ¹æ€§ç¢ºèª
3. **åç›Šæ€§æ¤œè¨¼**: ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆãƒ¢ãƒ‡ãƒ«ã®å®Ÿç¾å¯èƒ½æ€§ç¢ºèª
4. **æŠ•è³‡å®¶å‘ã‘ãƒ‡ãƒ¢**: å…·ä½“çš„ãªã‚µãƒ¼ãƒ“ã‚¹ä½“é¨“ã®æä¾›

### ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã®ç›®æ¨™

#### ä¸»è¦ç›®æ¨™
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å®Ÿè¨¼**: ç›´æ„Ÿçš„ã§é­…åŠ›çš„ãªæ¨è–¦ä½“é¨“ã®æä¾›
- **æ¨è–¦ç²¾åº¦ã®æ¤œè¨¼**: æ—¢èª­å±¥æ­´ã«åŸºã¥ãæ„å‘³ã®ã‚ã‚‹æ¨è–¦ã®å®Ÿç¾
- **åç›Šãƒ¢ãƒ‡ãƒ«ã®å®Ÿè£…**: ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆãƒªãƒ³ã‚¯ã«ã‚ˆã‚‹åç›ŠåŒ–ã®å®Ÿè¨¼
- **æŠ€è¡“çš„å®Ÿç¾å¯èƒ½æ€§ã®ç¢ºèª**: ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯é–‹ç™ºå‰ã®æŠ€è¡“æ¤œè¨¼

#### æ¸¬å®šå¯èƒ½ãªæˆåŠŸæŒ‡æ¨™
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ**: å¹³å‡ã‚»ãƒƒã‚·ãƒ§ãƒ³æ™‚é–“ 3åˆ†ä»¥ä¸Š
- **æ¨è–¦å—å…¥ç‡**: æ¨è–¦ã•ã‚ŒãŸæ¼«ç”»ã¸ã®é–¢å¿ƒè¡¨ç¤º 30%ä»¥ä¸Š  
- **ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆCTR**: æ¨è–¦ã‹ã‚‰ã®è³¼å…¥ãƒªãƒ³ã‚¯ã‚¯ãƒªãƒƒã‚¯ 10%ä»¥ä¸Š
- **å®Œäº†ç‡**: ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å®Œäº†ç‡ 70%ä»¥ä¸Š

### ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼
1. **ä¸»è¦ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ**: 18-35æ­³ã®æµ·å¤–åœ¨ä½æ¼«ç”»æ„›å¥½è€…
2. **ã‚»ã‚«ãƒ³ãƒ€ãƒªãƒ¼**: æ¼«ç”»åˆå¿ƒè€…ã§æ–°ã—ã„ä½œå“ã‚’æ¢ã—ã¦ã„ã‚‹èª­è€…
3. **ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼**: æŠ•è³‡å®¶ã€ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼å€™è£œã€é–‹ç™ºãƒãƒ¼ãƒ 

### ã‚³ã‚¢ãƒãƒªãƒ¥ãƒ¼ãƒ—ãƒ­ãƒã‚¸ã‚·ãƒ§ãƒ³
- **ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚º**: æ—¢èª­å±¥æ­´ã«åŸºã¥ãé«˜ç²¾åº¦æ¨è–¦
- **ç™ºè¦‹æ€§**: éš ã‚ŒãŸåä½œã‚„ãƒ‹ãƒƒãƒä½œå“ã®ç™ºè¦‹
- **åˆ©ä¾¿æ€§**: ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ã®è³¼å…¥å°ç·š
- **ä¿¡é ¼æ€§**: é€æ˜ãªæ¨è–¦ç†ç”±ã¨ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£è©•ä¾¡

## æŠ€è¡“æ¦‚è¦
æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€Claude Codeã§å®Ÿè£…ã™ã‚‹ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã®è©³ç´°ãªæŠ€è¡“ä»•æ§˜ã§ã™ã€‚ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãªã—ã§ã‚‚å‹•ä½œã™ã‚‹ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ¼ãƒ³ãªãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã¨ã—ã¦ã€ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ã¦ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚³ãƒ³ã‚»ãƒ—ãƒˆã‚’å®Ÿè¨¼ã—ã¾ã™ã€‚

## æŠ€è¡“ä»•æ§˜

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
```
ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯: Next.js 14 (App Router)
ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°: Tailwind CSS 3.4
ãƒ©ãƒ³ã‚¿ã‚¤ãƒ : Node.js 20.x
ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼: npm
ãƒ‡ãƒ—ãƒ­ã‚¤: Vercel (ç„¡æ–™æ )
```

### å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒª
```json
{
  "dependencies": {
    "next": "14.0.0",
    "react": "18.2.0",
    "react-dom": "18.2.0",
    "typescript": "5.0.0",
    "@types/node": "20.0.0",
    "@types/react": "18.2.0",
    "@types/react-dom": "18.2.0",
    "tailwindcss": "3.4.0",
    "lucide-react": "^0.300.0",
    "framer-motion": "^10.16.0",
    "next-themes": "^0.2.1"
  }
}
```

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
manga-compass-prototype/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ layout.tsx          # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”œâ”€â”€ page.tsx            # ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ onboarding/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx        # ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx        # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”‚   â””â”€â”€ globals.css         # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Footer.tsx
â”‚   â”‚   â”‚   â””â”€â”€ MobileNav.tsx
â”‚   â”‚   â”œâ”€â”€ manga/
â”‚   â”‚   â”‚   â”œâ”€â”€ MangaCard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ MangaGrid.tsx
â”‚   â”‚   â”‚   â””â”€â”€ MangaSelector.tsx
â”‚   â”‚   â”œâ”€â”€ recommendation/
â”‚   â”‚   â”‚   â”œâ”€â”€ RecommendationCard.tsx
â”‚   â”‚   â”‚   â””â”€â”€ RecommendationGrid.tsx
â”‚   â”‚   â””â”€â”€ ui/
â”‚   â”‚       â”œâ”€â”€ Button.tsx
â”‚   â”‚       â”œâ”€â”€ Card.tsx
â”‚   â”‚       â””â”€â”€ Badge.tsx
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ mockData.ts         # ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿
â”‚   â”‚   â”œâ”€â”€ types.ts            # TypeScriptå‹å®šç¾©
â”‚   â”‚   â””â”€â”€ recommendations.ts  # æ¨è–¦ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ affiliate.ts        # ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆãƒªãƒ³ã‚¯ç”Ÿæˆ
â”‚       â””â”€â”€ analytics.ts        # ãƒ€ãƒŸãƒ¼åˆ†ææ©Ÿèƒ½
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â””â”€â”€ manga-covers/       # æ¼«ç”»ã‚«ãƒãƒ¼ç”»åƒ
â”‚   â””â”€â”€ favicon.ico
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ next.config.js
â””â”€â”€ package.json
```

## è©³ç´°ä»•æ§˜

### 1. ãƒ‡ãƒ¼ã‚¿å‹å®šç¾© (src/lib/types.ts)

```typescript
export interface Manga {
  id: number;
  title: string;
  titleEnglish: string;
  author: string;
  genres: string[];
  status: 'ongoing' | 'completed';
  volumes: number;
  description: string;
  coverImage: string;
  amazonLink: string;
  rating: number;
  popularity: number;
}

export interface UserMangaHistory {
  mangaId: number;
  status: 'read' | 'reading' | 'want_to_read';
  rating: number;
}

export interface Recommendation {
  manga: Manga;
  score: number;
  reason: string;
  matchPercentage: number;
}

export interface User {
  id: string;
  name: string;
  readHistory: UserMangaHistory[];
  preferences: {
    favoriteGenres: string[];
    preferredStatus: 'ongoing' | 'completed' | 'both';
    preferredLength: 'short' | 'medium' | 'long' | 'any';
  };
}
```

### 2. ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ (src/lib/mockData.ts)

```typescript
export const mockMangaDatabase: Manga[] = [
  {
    id: 1,
    title: "é€²æ’ƒã®å·¨äºº",
    titleEnglish: "Attack on Titan",
    author: "Hajime Isayama",
    genres: ["Action", "Dark Fantasy", "Military"],
    status: "completed",
    volumes: 34,
    description: "In a world where humanity lives inside cities surrounded by enormous walls due to the Titans, gigantic humanoid creatures who devour humans seemingly without reason...",
    coverImage: "/images/manga-covers/attack-on-titan.jpg",
    amazonLink: "https://www.amazon.com/dp/1612620248",
    rating: 4.8,
    popularity: 95
  },
  {
    id: 2,
    title: "é¬¼æ»…ã®åˆƒ",
    titleEnglish: "Demon Slayer",
    author: "Koyoharu Gotouge",
    genres: ["Action", "Historical", "Supernatural"],
    status: "completed",
    volumes: 23,
    description: "Tanjiro Kamado, joined with Inosuke Hashibira, a boy raised by boars who wears a boar's head, and Zenitsu Agatsuma, a scared boy who reveals his true power when he sleeps...",
    coverImage: "/images/manga-covers/demon-slayer.jpg",
    amazonLink: "https://www.amazon.com/dp/1974700208",
    rating: 4.7,
    popularity: 92
  },
  // ... 48ä½œå“åˆ†ã®ãƒ‡ãƒ¼ã‚¿
];

export const mockUser: User = {
  id: "user_001",
  name: "Demo User",
  readHistory: [
    { mangaId: 1, status: "read", rating: 5 },
    { mangaId: 2, status: "read", rating: 4 },
  ],
  preferences: {
    favoriteGenres: ["Action", "Adventure"],
    preferredStatus: "both",
    preferredLength: "any"
  }
};
```

### 3. æ¨è–¦ãƒ­ã‚¸ãƒƒã‚¯ (src/lib/recommendations.ts)

```typescript
import { Manga, User, Recommendation, UserMangaHistory } from './types';
import { mockMangaDatabase } from './mockData';

export class RecommendationEngine {
  static generateRecommendations(user: User, limit: number = 6): Recommendation[] {
    const readMangaIds = user.readHistory.map(h => h.mangaId);
    const unreadManga = mockMangaDatabase.filter(manga => !readMangaIds.includes(manga.id));
    
    const recommendations = unreadManga.map(manga => {
      const score = this.calculateScore(manga, user);
      const reason = this.generateReason(manga, user);
      
      return {
        manga,
        score,
        reason,
        matchPercentage: Math.round(score * 100)
      };
    });
    
    return recommendations
      .sort((a, b) => b.score - a.score)
      .slice(0, limit);
  }
  
  private static calculateScore(manga: Manga, user: User): number {
    let score = 0;
    
    // ã‚¸ãƒ£ãƒ³ãƒ«ä¸€è‡´åº¦ (40%)
    const genreMatch = manga.genres.filter(genre => 
      user.preferences.favoriteGenres.includes(genre)
    ).length / Math.max(manga.genres.length, user.preferences.favoriteGenres.length);
    score += genreMatch * 0.4;
    
    // è©•ä¾¡ã‚¹ã‚³ã‚¢ (30%)
    score += (manga.rating / 5) * 0.3;
    
    // äººæ°—åº¦ (20%)
    score += (manga.popularity / 100) * 0.2;
    
    // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¥½ã¿ (10%)
    if (user.preferences.preferredStatus === 'both' || 
        user.preferences.preferredStatus === manga.status) {
      score += 0.1;
    }
    
    return Math.min(score, 1);
  }
  
  private static generateReason(manga: Manga, user: User): string {
    const reasons = [];
    
    // èª­æ›¸å±¥æ­´ã‹ã‚‰ã®é¡æ¨
    const readManga = user.readHistory
      .map(h => mockMangaDatabase.find(m => m.id === h.mangaId))
      .filter(Boolean);
    
    const similarGenreManga = readManga.find(read => 
      read?.genres.some(g => manga.genres.includes(g))
    );
    
    if (similarGenreManga) {
      reasons.push(`Since you enjoyed "${similarGenreManga.titleEnglish}"`);
    }
    
    // é«˜è©•ä¾¡ä½œå“
    if (manga.rating >= 4.5) {
      reasons.push("Highly rated by readers");
    }
    
    // å®Œçµä½œå“
    if (manga.status === 'completed') {
      reasons.push("Complete series perfect for binge reading");
    }
    
    return reasons.length > 0 ? reasons.join(" â€¢ ") : "Popular in your preferred genres";
  }
}
```

### 4. ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä»•æ§˜

#### 4.1 ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸ (src/app/page.tsx)
```typescript
"use client";

import { useState } from 'react';
import { Header } from '@/components/layout/Header';
import { Footer } from '@/components/layout/Footer';
import { MangaGrid } from '@/components/manga/MangaGrid';
import { Button } from '@/components/ui/Button';
import { mockMangaDatabase } from '@/lib/mockData';

export default function LandingPage() {
  const [showDemo, setShowDemo] = useState(false);
  const popularManga = mockMangaDatabase
    .sort((a, b) => b.popularity - a.popularity)
    .slice(0, 6);

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100">
      <Header />
      
      {/* Hero Section */}
      <section className="container mx-auto px-4 py-16 text-center">
        <h1 className="text-5xl font-bold text-gray-900 mb-6">
          Discover Your Next Favorite Manga
        </h1>
        <p className="text-xl text-gray-600 mb-8 max-w-2xl mx-auto">
          Get personalized manga recommendations based on what you've already read. 
          Find hidden gems and popular series tailored to your taste.
        </p>
        
        <div className="space-x-4">
          <Button 
            onClick={() => window.location.href = '/onboarding'}
            className="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg"
          >
            Get Started
          </Button>
          <Button 
            onClick={() => setShowDemo(true)}
            variant="outline"
            className="px-8 py-3 text-lg"
          >
            See Demo
          </Button>
        </div>
      </section>

      {/* Demo Section */}
      {showDemo && (
        <section className="container mx-auto px-4 py-16">
          <h2 className="text-3xl font-bold text-center mb-12">
            Popular Manga
          </h2>
          <MangaGrid manga={popularManga} />
        </section>
      )}

      {/* Features Section */}
      <section className="bg-white py-16">
        <div className="container mx-auto px-4">
          <h2 className="text-3xl font-bold text-center mb-12">
            Why MangaCompass?
          </h2>
          <div className="grid md:grid-cols-3 gap-8">
            <div className="text-center">
              <div className="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                <span className="text-2xl">ğŸ¯</span>
              </div>
              <h3 className="text-xl font-semibold mb-2">Personalized</h3>
              <p className="text-gray-600">Recommendations based on your reading history</p>
            </div>
            <div className="text-center">
              <div className="bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                <span className="text-2xl">ğŸŒ</span>
              </div>
              <h3 className="text-xl font-semibold mb-2">Global</h3>
              <p className="text-gray-600">Discover manga from all genres and eras</p>
            </div>
            <div className="text-center">
              <div className="bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                <span className="text-2xl">âš¡</span>
              </div>
              <h3 className="text-xl font-semibold mb-2">Instant</h3>
              <p className="text-gray-600">Get recommendations in seconds</p>
            </div>
          </div>
        </div>
      </section>

      <Footer />
    </div>
  );
}
```

#### 4.2 ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸ (src/app/onboarding/page.tsx)
```typescript
"use client";

import { useState } from 'react';
import { MangaSelector } from '@/components/manga/MangaSelector';
import { Button } from '@/components/ui/Button';
import { mockMangaDatabase } from '@/lib/mockData';
import { UserMangaHistory } from '@/lib/types';

export default function OnboardingPage() {
  const [step, setStep] = useState(1);
  const [selectedManga, setSelectedManga] = useState<UserMangaHistory[]>([]);
  const [favoriteGenres, setFavoriteGenres] = useState<string[]>([]);

  const popularManga = mockMangaDatabase
    .sort((a, b) => b.popularity - a.popularity)
    .slice(0, 20);

  const allGenres = Array.from(
    new Set(mockMangaDatabase.flatMap(manga => manga.genres))
  );

  const handleMangaSelect = (mangaId: number, rating: number) => {
    setSelectedManga(prev => {
      const existing = prev.find(item => item.mangaId === mangaId);
      if (existing) {
        return prev.map(item => 
          item.mangaId === mangaId 
            ? { ...item, rating }
            : item
        );
      }
      return [...prev, { mangaId, status: 'read' as const, rating }];
    });
  };

  const handleGenreToggle = (genre: string) => {
    setFavoriteGenres(prev => 
      prev.includes(genre) 
        ? prev.filter(g => g !== genre)
        : [...prev, genre]
    );
  };

  const handleComplete = () => {
    // Save to localStorage and redirect
    localStorage.setItem('userPreferences', JSON.stringify({
      readHistory: selectedManga,
      favoriteGenres,
      onboardingCompleted: true
    }));
    window.location.href = '/dashboard';
  };

  return (
    <div className="min-h-screen bg-gray-50 py-8">
      <div className="container mx-auto px-4 max-w-4xl">
        {/* Progress Bar */}
        <div className="mb-8">
          <div className="flex justify-between text-sm text-gray-600 mb-2">
            <span>Step {step} of 2</span>
            <span>{Math.round((step / 2) * 100)}% Complete</span>
          </div>
          <div className="w-full bg-gray-200 rounded-full h-2">
            <div 
              className="bg-blue-600 h-2 rounded-full transition-all duration-300"
              style={{ width: `${(step / 2) * 100}%` }}
            />
          </div>
        </div>

        {step === 1 && (
          <div>
            <h1 className="text-3xl font-bold mb-4">
              What manga have you read?
            </h1>
            <p className="text-gray-600 mb-8">
              Select manga you've read and rate them. This helps us understand your taste.
            </p>
            
            <MangaSelector 
              manga={popularManga}
              selectedManga={selectedManga}
              onMangaSelect={handleMangaSelect}
            />
            
            <div className="mt-8 flex justify-end">
              <Button 
                onClick={() => setStep(2)}
                disabled={selectedManga.length < 3}
                className="px-8 py-3"
              >
                Next: Choose Genres ({selectedManga.length}/3+ selected)
              </Button>
            </div>
          </div>
        )}

        {step === 2 && (
          <div>
            <h1 className="text-3xl font-bold mb-4">
              What genres do you enjoy?
            </h1>
            <p className="text-gray-600 mb-8">
              Select your favorite genres to help us recommend similar manga.
            </p>
            
            <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 mb-8">
              {allGenres.map(genre => (
                <button
                  key={genre}
                  onClick={() => handleGenreToggle(genre)}
                  className={`p-3 rounded-lg border-2 text-center transition-all ${
                    favoriteGenres.includes(genre)
                      ? 'border-blue-500 bg-blue-50 text-blue-700'
                      : 'border-gray-200 hover:border-gray-300'
                  }`}
                >
                  {genre}
                </button>
              ))}
            </div>
            
            <div className="flex justify-between">
              <Button 
                onClick={() => setStep(1)}
                variant="outline"
              >
                Back
              </Button>
              <Button 
                onClick={handleComplete}
                disabled={favoriteGenres.length < 2}
                className="px-8 py-3"
              >
                Complete Setup ({favoriteGenres.length}/2+ genres)
              </Button>
            </div>
          </div>
        )}
      </div>
    </div>
  );
}
```

#### 4.3 ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸ (src/app/dashboard/page.tsx)
```typescript
"use client";

import { useEffect, useState } from 'react';
import { Header } from '@/components/layout/Header';
import { RecommendationGrid } from '@/components/recommendation/RecommendationGrid';
import { RecommendationEngine } from '@/lib/recommendations';
import { User, Recommendation } from '@/lib/types';
import { mockUser } from '@/lib/mockData';

export default function DashboardPage() {
  const [user, setUser] = useState<User | null>(null);
  const [recommendations, setRecommendations] = useState<Recommendation[]>([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    // Load user preferences from localStorage
    const savedPreferences = localStorage.getItem('userPreferences');
    if (savedPreferences) {
      const preferences = JSON.parse(savedPreferences);
      const userWithPreferences = {
        ...mockUser,
        readHistory: preferences.readHistory || [],
        preferences: {
          ...mockUser.preferences,
          favoriteGenres: preferences.favoriteGenres || []
        }
      };
      setUser(userWithPreferences);
      
      // Generate recommendations
      const recs = RecommendationEngine.generateRecommendations(userWithPreferences);
      setRecommendations(recs);
    } else {
      // Redirect to onboarding if no preferences
      window.location.href = '/onboarding';
    }
    setLoading(false);
  }, []);

  const handleAffiliateClick = (mangaId: number) => {
    // Track click and open affiliate link
    console.log(`Clicked affiliate link for manga ${mangaId}`);
    // In real implementation, this would track the click and open the link
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-50 flex items-center justify-center">
        <div className="text-center">
          <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"></div>
          <p>Generating your recommendations...</p>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <div className="container mx-auto px-4 py-8">
        <div className="mb-8">
          <h1 className="text-3xl font-bold mb-2">
            Your Recommendations
          </h1>
          <p className="text-gray-600">
            Based on your reading history and preferences
          </p>
        </div>

        <RecommendationGrid 
          recommendations={recommendations}
          onAffiliateClick={handleAffiliateClick}
        />

        {/* Reading Statistics */}
        <div className="mt-16 bg-white rounded-lg p-6 shadow-sm">
          <h2 className="text-xl font-semibold mb-4">Your Reading Stats</h2>
          <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
            <div className="text-center">
              <div className="text-2xl font-bold text-blue-600">
                {user?.readHistory.length || 0}
              </div>
              <div className="text-sm text-gray-600">Manga Read</div>
            </div>
            <div className="text-center">
              <div className="text-2xl font-bold text-green-600">
                {user?.preferences.favoriteGenres.length || 0}
              </div>
              <div className="text-sm text-gray-600">Favorite Genres</div>
            </div>
            <div className="text-center">
              <div className="text-2xl font-bold text-purple-600">
                {recommendations.length}
              </div>
              <div className="text-sm text-gray-600">New Recommendations</div>
            </div>
            <div className="text-center">
              <div className="text-2xl font-bold text-orange-600">
                {Math.round(recommendations.reduce((acc, rec) => acc + rec.score, 0) / recommendations.length * 100) || 0}%
              </div>
              <div className="text-sm text-gray-600">Avg Match</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}
```

### 5. ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

#### 5.1 RecommendationCard (src/components/recommendation/RecommendationCard.tsx)
```typescript
import { Recommendation } from '@/lib/types';
import { Card } from '@/components/ui/Card';
import { Badge } from '@/components/ui/Badge';
import { Button } from '@/components/ui/Button';

interface RecommendationCardProps {
  recommendation: Recommendation;
  onAffiliateClick: (mangaId: number) => void;
}

export function RecommendationCard({ recommendation, onAffiliateClick }: RecommendationCardProps) {
  const { manga, reason, matchPercentage } = recommendation;

  return (
    <Card className="overflow-hidden hover:shadow-lg transition-shadow">
      <div className="aspect-[3/4] relative overflow-hidden">
        <img 
          src={manga.coverImage} 
          alt={manga.titleEnglish}
          className="w-full h-full object-cover"
          onError={(e) => {
            e.currentTarget.src = '/images/placeholder-manga.jpg';
          }}
        />
        <div className="absolute top-2 right-2">
          <Badge variant="success">
            {matchPercentage}% Match
          </Badge>
        </div>
      </div>
      
      <div className="p-4">
        <h3 className="font-semibold text-lg mb-1 line-clamp-2">
          {manga.titleEnglish}
        </h3>
        <p className="text-sm text-gray-600 mb-2">
          by {manga.author}
        </p>
        
        <div className="flex flex-wrap gap-1 mb-3">
          {manga.genres.slice(0, 2).map(genre => (
            <Badge key={genre} variant="secondary" size="sm">
              {genre}
            </Badge>
          ))}
          {manga.genres.length > 2 && (
            <Badge variant="secondary" size="sm">
              +{manga.genres.length - 2}
            </Badge>
          )}
        </div>
        
        <p className="text-sm text-gray-700 mb-4 line-clamp-2">
          {reason}
        </p>
        
        <div className="flex gap-2">
          <Button 
            onClick={() => onAffiliateClick(manga.id)}
            className="flex-1"
            size="sm"
          >
            Buy on Amazon
          </Button>
          <Button 
            variant="outline" 
            size="sm"
            onClick={() => {/* Add to reading list */}}
          >
            â¤ï¸
          </Button>
        </div>
      </div>
    </Card>
  );
}
```

### 6. ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°

#### 6.1 ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆãƒªãƒ³ã‚¯ç”Ÿæˆ (src/utils/affiliate.ts)
```typescript
export function generateAffiliateLink(originalUrl: string): string {
  const associateId = 'mangacompass-20';
  
  try {
    const url = new URL(originalUrl);
    
    if (url.hostname.includes('amazon')) {
      url.searchParams.set('tag', associateId);
      return url.toString();
    }
    
    return originalUrl;
  } catch {
    return originalUrl;
  }
}

export function trackAffiliateClick(mangaId: number): void {
  // In a real app, this would send to analytics
  console.log(`Affiliate click tracked for manga ${mangaId}`);
  
  // Store in localStorage for demo purposes
  const clicks = JSON.parse(localStorage.getItem('affiliateClicks') || '[]');
  clicks.push({
    mangaId,
    timestamp: Date.now()
  });
  localStorage.setItem('affiliateClicks', JSON.stringify(clicks));
}
```

## å®Ÿè£…æ‰‹é †

### Phase 1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆ1æ—¥ï¼‰
1. Next.js ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
2. å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
3. Tailwind CSS è¨­å®š
4. åŸºæœ¬çš„ãªãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ ä½œæˆ

### Phase 2: åŸºæœ¬ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ1æ—¥ï¼‰
1. å‹å®šç¾©ã®ä½œæˆ
2. UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆButton, Card, Badgeï¼‰
3. ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆHeader, Footerï¼‰
4. ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã®æº–å‚™

### Phase 3: ãƒšãƒ¼ã‚¸å®Ÿè£…ï¼ˆ2æ—¥ï¼‰
1. ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸
2. ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸
3. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸
4. æ¨è–¦ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…

### Phase 4: ä»•ä¸Šã’ã¨ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆ1æ—¥ï¼‰
1. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œç¢ºèª
2. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
3. Vercelãƒ‡ãƒ—ãƒ­ã‚¤
4. å‹•ä½œç¢ºèªã¨ãƒã‚°ä¿®æ­£

## æˆåŠŸåŸºæº–ã¨KPI

### æŠ€è¡“çš„æˆåŠŸåŸºæº–
- [ ] 3ã¤ã®ãƒšãƒ¼ã‚¸ï¼ˆãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã€ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼‰ãŒæ­£å¸¸ã«å‹•ä½œ
- [ ] ãƒ¢ãƒã‚¤ãƒ«ãƒ»ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—å¯¾å¿œãŒå®Œäº†
- [ ] æ¨è–¦æ©Ÿèƒ½ãŒè«–ç†çš„ã§æ„å‘³ã®ã‚ã‚‹çµæœã‚’è¿”ã™
- [ ] ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆãƒªãƒ³ã‚¯ãŒæ­£ã—ãç”Ÿæˆã•ã‚Œã‚‹
- [ ] Vercelã§å…¬é–‹ã•ã‚Œã€ä»–è€…ãŒã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- [ ] ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚é–“ãŒ3ç§’ä»¥å†…

### ãƒ“ã‚¸ãƒã‚¹æ¤œè¨¼åŸºæº–
- [ ] 10äººä»¥ä¸Šã®ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã‚‹å®Ÿéš›ã®ä½¿ç”¨
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã§æ¨è–¦ç²¾åº¦ãŒã€Œæœ‰ç”¨ã€ã¨è©•ä¾¡ã•ã‚Œã‚‹
- [ ] ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å®Œäº†ç‡ãŒ70%ä»¥ä¸Š
- [ ] å¹³å‡ã‚»ãƒƒã‚·ãƒ§ãƒ³æ™‚é–“ãŒ3åˆ†ä»¥ä¸Š
- [ ] ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆãƒªãƒ³ã‚¯ã‚¯ãƒªãƒƒã‚¯ç‡ãŒ10%ä»¥ä¸Š

### ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼è©•ä¾¡åŸºæº–
- [ ] æŠ•è³‡å®¶ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§ã®ãƒã‚¸ãƒ†ã‚£ãƒ–ãªåå¿œ
- [ ] ã‚µãƒ¼ãƒ“ã‚¹ã‚³ãƒ³ã‚»ãƒ—ãƒˆã®ç†è§£åº¦90%ä»¥ä¸Š
- [ ] æŠ€è¡“çš„å®Ÿç¾å¯èƒ½æ€§ã¸ã®ç¢ºä¿¡ç²å¾—
- [ ] åç›Šãƒ¢ãƒ‡ãƒ«ã®æ˜ç¢ºãªå®Ÿè¨¼

## æ¬¡ãƒ•ã‚§ãƒ¼ã‚ºã¸ã®ç§»è¡Œæ¡ä»¶

### MVPé–‹ç™ºã¸ã®Go/No-Goåˆ¤å®šåŸºæº–
1. **å¸‚å ´é©åˆæ€§**: ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã®80%ãŒã€Œã“ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã„ãŸã„ã€ã¨å›ç­”
2. **æŠ€è¡“çš„å®Ÿç¾æ€§**: ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã§ç‰¹å®šã•ã‚ŒãŸæŠ€è¡“èª²é¡ŒãŒè§£æ±ºå¯èƒ½
3. **åç›Šæ€§**: ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆCTRãŒç›®æ¨™å€¤(10%)ã‚’é”æˆ
4. **ãƒãƒ¼ãƒ æº–å‚™**: ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯é–‹ç™ºãƒãƒ¼ãƒ ã®ç¢ºä¿

### ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‹ã‚‰å­¦ã¶ã¹ãé …ç›®
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæœ€ã‚‚ä¾¡å€¤ã‚’æ„Ÿã˜ã‚‹æ©Ÿèƒ½ã®ç‰¹å®š
- æ¨è–¦ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æ”¹å–„ãƒã‚¤ãƒ³ãƒˆ
- UI/UXã®èª²é¡Œã¨æ”¹å–„æ¡ˆ
- æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã®æœ€çµ‚æ±ºå®šè¦ç´ 

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå®Œäº†å¾Œã®æ´»ç”¨

### ãƒ‡ãƒ¢ãƒ»ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ç”¨é€”
- **æŠ•è³‡å®¶ãƒ”ãƒƒãƒ**: å®Ÿéš›ã®ã‚µãƒ¼ãƒ“ã‚¹ä½“é¨“ã‚’æä¾›
- **ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼äº¤æ¸‰**: å‡ºç‰ˆç¤¾ãƒ»å°å£²æ¥­è€…ã¸ã®å…·ä½“çš„ææ¡ˆ
- **ãƒãƒ¼ãƒ æ¡ç”¨**: é–‹ç™ºè€…ã¸ã®å‚åŠ å‹•æ©Ÿä»˜ã‘
- **å¸‚å ´èª¿æŸ»**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ã®åŸºç›¤

### ç¶™ç¶šçš„ãªä¾¡å€¤å‰µå‡º
- **ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ç´ æ**: ã‚µãƒ¼ãƒ“ã‚¹ç´¹ä»‹å‹•ç”»ãƒ»ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆä½œæˆ
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ç²å¾—**: äº‹å‰ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ã¨ã—ã¦ã®æ´»ç”¨
- **ç«¶åˆåˆ†æ**: ä»–ç¤¾ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®æ¯”è¼ƒæ¤œè¨¼
- **æŠ€è¡“ã‚¢ã‚»ãƒƒãƒˆ**: æœ¬é–‹ç™ºã§ã®å†åˆ©ç”¨å¯èƒ½ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

ã“ã®ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã¯å˜ãªã‚‹æŠ€è¡“ãƒ‡ãƒ¢ã§ã¯ãªãã€MangaCompassã®äº‹æ¥­æˆåŠŸã«å‘ã‘ãŸé‡è¦ãªãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ã™ã€‚å®Œæˆã«ã‚ˆã‚Šã€ç¢ºå®Ÿãªãƒ“ã‚¸ãƒã‚¹æˆ¦ç•¥ã¨æŠ€è¡“æˆ¦ç•¥ã®åŸºç›¤ã‚’ç¢ºç«‹ã—ã€æ¬¡ãƒ•ã‚§ãƒ¼ã‚ºã§ã®æˆåŠŸç¢ºç‡ã‚’å¤§å¹…ã«å‘ä¸Šã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚